<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      >
    <h:body>
     	<ui:composition template="/templates/insert-user.xhtml">
     		<ui:define name="mainBody">
		     		<h:form enctype="multipart/form-data">					
						<div style="width: 70%">
							<div style="padding-bottom: 10px;">
								<h:outputText value="#{lang_msg['label.name']}" styleClass="textLabel" />
								<span style="float: right">
									<h:inputText id="name" styleClass="text" value="#{insertUser.profile.firstName}" size="20" required="true" label="#{lang_msg['label.name']}" />
								</span>
								<div class="clearfix"/>
							</div>
							
							<div style="padding-bottom: 10px;">
								<h:outputText value="#{lang_msg['label.surname']}" styleClass="textLabel" />
								<span style="float: right">
									<h:inputText id="surname" styleClass="text" value="#{insertUser.profile.lastName}" size="20" required="true" label="#{lang_msg['label.surname']}" />
								</span>
								<div class="clearfix"/>
							</div>
							
							<div style="padding-bottom: 10px;">
								<h:outputText value="#{lang_msg['label.localization']}" styleClass="textLabel" />								
									<c:choose>
										<span style="float: right; margin-right: 15px">
											<c:when test="#{not empty insertUser.currentLocation.locationName and not empty insertUser.currentLocation.area.areaName and not empty insertUser.currentLocation.area.country.countryName}">
												<strong><h:outputText value="#{insertUser.currentLocation.locationName} (#{insertUser.currentLocation.area.areaName}) [#{insertUser.currentLocation.area.country.countryName}]" styleClass="textLabelWizard" /></strong>
											</c:when>
										</span>
									<c:otherwise>
										<span style="float: right">
											<input type="text" id="location" name="manual_location" value="#{insertUser.alternativeLocation}" class="text" size="20" label="#{lang_msg['label.localization']}" />
										</span>
									</c:otherwise>
									</c:choose>
								<div class="clearfix"/>
							</div>
							
							<div style="padding-bottom: 10px;">
								<h:outputText value="#{lang_msg['label.avatar']}" styleClass="textLabel" />
								<div id="avatarBtn" style="height: 350px; width: 260px;border: 1px dashed #BBB; cursor:pointer; float:right; margin-right: 15px;">
									<t:inputFileUpload id="avatarFile" styleClass="file" value="#{insertUser.avatar}" alt="#{lang_msg['label.avatar']}" title="#{lang_msg['label.avatar']}"/>
								</div>
								<div class="clearfix"/>
							</div>
							<div class="clearfix"/>
						</div>
						<div class="clearfix"/>
						<div id="wizardButtonLeft">
							<p class="button-style"><h:commandLink action="#{insertUser.goToStartWizard}" value="#{lang_msg['wizard.button.back']}" /></p>
						</div>
						
						<div id="wizardButtonRight">
							<p class="button-style"><h:commandLink action="#{insertUser.goToAddInfo}" value="#{lang_msg['wizard.button.next']}" /></p>
						</div>					
					</h:form>
     		</ui:define>
     	</ui:composition>
    </h:body>
</html>